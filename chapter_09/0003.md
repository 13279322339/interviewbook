# 原型模式

## 1. 使用场景
当一个对象的创建过程非常复杂，而我们只需要复制一个已存在对象的状态时。

## 2. 实现举例
希望根据一个已有的Student对象，复制（克隆）另一个新的Student对象：

{%ace edit=false, lang='java', theme='monokai'%}
class Student implements Serializable {
  private static final long serialVersionUID = 1L;
  int id;
  String name;
  Date birthday;

  public Student(int id, String name, Date birthday) {
    super();
    this.id = id;
    this.name = name;
    this.birthday = birthday;
  }

  @Override
  public String toString() {
    return "Student [id=" + id + ", name=" + name + ", birthday=" + birthday + "]";
  }

  public Student clone() {
    try {
      ByteArrayOutputStream os = new ByteArrayOutputStream();
      ObjectOutputStream oos = new ObjectOutputStream(os);
      oos.writeObject(this);

      ByteArrayInputStream is = new ByteArrayInputStream(os.toByteArray());
      ObjectInputStream ois = new ObjectInputStream(is);
      Student s2 = (Student) ois.readObject();
      return s2;
    } catch (ClassNotFoundException | IOException e) {
      throw new RuntimeException(e);
    }
  }

}
{%endace%}